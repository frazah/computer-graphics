<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Alfonso Esposito - Computer Graphics - UniBo Exam Project</title>
        <link rel="stylesheet" type="text/css" href="./custom.css">
    </head>
    <body>
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 bg-soft-grey" style="text-align: center !important; border: 1px solid black;">
                <h1>
                    Relazione - Esame di Computer Graphics - Alfonso Esposito matricola 1057171<br>
                </h1>
                <h1 style="text-align: center !important;">
                    Progetto Museo
                </h1>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <h2>
                    Indice
                </h2>
                <ul>
                    <li>
                        Introduzione
                    </li>
                    <li>
                        Descrizione della struttura del progetto
                    </li>
                    <li>
                        Descrizione della scena, la directory objFiles
                    </li>
                    <li>
                        Sviluppo della scena, la directory resources
                        <ul>
                            <li>
                                main.js
                            </li>
                            <li>
                                prepareCanvas.js
                            </li>
                            <li>
                                Model.js
                            </li>
                            <li>
                                camera.js
                            </li>
                        </ul>
                    </li>
                    <li>
                        Particolarità
                    </li>
                    <li>
                        References
                    </li>
                </ul>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <h2>
                    Introduzione
                </h2>
                <p>
                    Il seguente progetto consiste nella realizzazione di un modello 3D di una stanza e vuole rappresentare l'esposizione di un paio di quadri e di un modellino su tavolo.<br>
                    Il modelli visibili nella scena sono stati realizzati con Blender, mentre il caricamento di questi ultimi e il loro posizionamento nella stanza è stato realizzato con la libreria WebGl.<br>
                    All'interno della seguente relazione sono contenuti i dettagli relativi allo sviluppo del progetto e le scelte effettuate.
                </p>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <h2>Descrizione della struttura del progetto</h2>
                <p>
                    Il progetto è stato sviluppato interamente utilizzando il linguaggio Javascript, integrato con la libreria di WebGl e le librerie fornite durante le lezioni del Corso di Computer Graphics.<br>
                    Come interfaccia grafica sono stati utilizzati fogli di stile integrati all'interno di una pagina HTML.<br>
                    All'interno della repository sono presenti i seguenti file:
                    <ul>
                        <li>
                            La cartella <b>doc</b> contiene il file relativo alla presente documentazione del progetto.
                        </li>
                        <li>
                            La cartella <b>project</b> contiene i file relativi alla realizzazione del progetto.<br>
                            In particolare, quest'ultima è organizzata nel seguente modo:
                            <ul>
                                <li>
                                    La cartella <b>img</b> contiene la foto utilizzata come background per il contesto 2D contente le informazioni testuali e il pad per l'interazione utente.<br>
                                    L'unica immagine presente è il disegno di un foglio a quadretti, utilizzato come sfondo per il contesto 2D.
                                </li>
                                <li>
                                    La cartella <b>objFiles</b> contiene i file relativi a tutti i modelli mesh utilizzati all'interno della scena.<br>
                                    Per ogni elemento è presente una cartella che rappresenta, con il nome, l'oggetto in questione, e contiene, oltre che al file <b>.obj</b>, che rappresenta la geometria dell'oggetto, anche il file <b>.mtl</b><br>
                                    che invece contiene le informazioni in merito alle texture e ai materiali applicati all'oggetto.
                                </li>
                                <li>
                                    La cartella <b>resources</b> contiene tutti i file javascript utilizzati per il caricamento e la gestione della scena.<br>
                                    Questa cartella al suo interno è stata organizzata in modo tale da suddividere i file in base alla loro funzione:
                                    <ul>
                                        <li>
                                            Le librerie sono state racchiuse nella directory <b>libraries</b>.
                                        </li>
                                        <li>
                                            I file scritti dall'autore sono presenti con il corrispettivo nome all'interno della directory <b>resources</b>.
                                        </li>
                                    </ul> 
                                </li>
                                <li>
                                    La cartella <b>style</b> contiene, invece, i fogli di stile utilizzati per la realizzazione dell'interfaccia grafica.
                                </li>
                                <li>
                                    Il file <b>index.html</b> è il file principale del progetto, che contiene la struttura HTML e il collegamento a tutti i file javascript e fogli di stile.
                                </li>
                            </ul>
                        </li>
                    </ul>
                </p>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <h2>Descrizione della scena, la directory objFiles</h2>
                <p>
                    La scena è stata realizzata con l'ausilio di Blender. In ogni directory sono presenti, nei formati <b>.obj</b> e <b>.mtl</b>, i modelli mesh e le informazioni relative ai materiali e alle texture utilizzate:
                    <ul>
                        <li>
                            Due dipinti, posti uno di fronte l'altro, raffiguranti il bacio di klimt e la notte stellata di van gogh.<br>
                            Entrambi sono presenti nella cartella <b>Dipinto</b>.
                        </li>
                        <li>
                            Un tavolo, sul quale è posizionato un ring contenente un t-rex e la faccia di una scimmia, entrambi con guatoni da boxe, immortalati nell'atto del combattimento.<br>
                            Il tavolo, al quale è stato applicato una texture raffigurante legno d'ulivo, è presente nella directory <b>Stanza/Tavolo</b><br> 
                            Il ring, colorato di blu, è nella directory <b>Ring</b>;<br>
                            Il T-rex, colorato di verde, è nella directory <b>T-rex</b> mentre la scimmia, colorata di marrone, è nella directory <b>Suzanne</b>.
                        </li>
                        <li>
                            Il tavolo poggia su un pavimento al quale è stato applicato una texture raffigurante un parquet legno scuro. Il pavimento è presente nella directory <b>Stanza/Pavimento</b>.
                        </li>
                        <li>
                            Una finestra, che presenta un pannello che funge da vetro, al quale è stata applicata una trasparenza per permettere la visione di un paesaggio esterno.<br> 
                            Il paesaggio esterno è un pannello al quale è stata applicata una texture con la foto <b>landascape</b><br>
                            La finestra è presente nella directory <b>Stanza/Finestra</b>; <br> Il landascape è nella directory <b>Stanza/Finestra/Landascape</b>;<br>
                            La maniglia della finestra è nella directory <b>Stanza/Finestra/Maniglia</b>; <br> Il vetro è nella directory <b>Stanza/Finestra/Vetro</b>.
                        </li>
                        <li>
                            Delle lampade poste al di sopra di ogni quadro, al cui interno è presente una lampadina colorata di giallo, alla quale è stata applicata una trasparenza per rendere più verosimile l'idea di luce.<br>
                            Le lampade sono presenti nella directory <b>Lighter/Lampadario</b>. Le lampadine invece sono presenti nella directory <b>Lighter/Lampada</b>.
                        </li>
                        <li>
                            Una cornice, raffigurante l'immagine dell'autore del progetto, presente nella directory <b>Quadro</b>. La cornice, colorata di marrone, è nella directory <b>Quadro/Cornice</b>, mentre l'immagine è nella directory <b>Quadro/Tela</b>.
                        </li>
                        <li>
                            Infine il tutto è racchiuso all'interno di tre mura. Le mura sono presenti nella directory <b>Stanza/Mura</b>. 
                        </li>
                    </ul>
                </p>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <h2>Sviluppo della scena, la directory resources</h2>
                <div class="row clearfix">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h3>main.js</h3>
                        <p>
                            <b>main.js</b> è file principale nel quale vengono inizializzate tutte le variabili globali, creato il contesto 3D e 2D e avviato il rendering.<br>
                            La funzione main, responsabile dell'avvio della scena, prevede la creazione di un oggetto Canvas.<br>
                            L'oggetto canvas viene utilizzato dall'oggetto Model per la creazione e la visualizzazione dei modelli mesh.<br>
                            Viene successivamente creato un oggetto Camera, che viene utilizzato dall'oggetto Model per la visualizzazione della scena.<br>
                            Infine viene chiamata la funzione <b>drawModel</b> per la renderizzazione finale. <br><br>
                            All'interno del file main vengono inizializzate le variabili utilizzate dai vari oggetti per la costruzione della scena.<br>
                            Sono inoltre presenti alcune funzioni utilizzate per la gestione di eventi.

                            <h4>Eventi da tastiera</h4>
                            La funzione <b>handleKeyboard</b> viene utilizzata per gestire l'evento di pressione del tasto sulla tastiera associato ad un determianto movimento.<br>
                            Ogni qual volta l'utente preme uno dei tasti associati ad un determinato movimento, viene chiamata la funzione <b>handleKeyboard</b> che, in base al tasto premuto, applica un determinato movimento alla camera.<br>
                            La funzione di ogni tasto è riportata nel contesto 2D attraverso un libretto delle istruzioni, in modo da facilitare l'utente alla comprensione di questi ultimi
                            <h4>Eventi da mouse</h4>
                            Le funzioni <b>mouseDown</b>, <b>mouseUp</b>, <b>mouseMove</b> e <b>mouseWheel</b> vengono utilizzate per gestire gli eventi con l'utilizzo del mouse.<br> 
                            Vengono calcolate le coordinate del punto di pressione del mouse e utilizzate per calcolare la direzione di movimento della camera.<br>

                            <h4>Eventi touch</h4>
                            Per quanto riguarda la gestione degli eventi touch viene utilizzato lo stesso meccanismo di gestione degli eventi con mouse, con l'unica differenza che al canvas viene fatto il bind anche dell'evento touch.<br>
                            Le funzioni che si occupano di effettuare questi movimenti sono <b>touchStart</b>, <b>touchEnd</b> e <b>touchMove</b>. <br>
                            Ad ogni evento che chiama la funzione touchMove viene calcolato lo spostamento e applicato un determinato movimento alla camera.

                            <h4>Libretto delle istruzioni</h4>
                            All'interno della schermata principale del progetto viene mostrato all'utente un libretto delle istruzioni con lo scopo di facilitare l'utente alla comprensione dei vari eventi.<br>
                            Il libretto è stato creato utilizzato un contesto 2D, al quale è stato applicato uno sfondo che rappresenta un foglio di carta a quadretti.
                            All'interno del libretto sono mostrati, sotto forma testuale, le istruzioni relative ai vari eventi associati ai vari tasti.<br>
                            Il testo è stato creato utilizzando la funzione <b>makeTextCanvas</b> che utilizza un array di istruzioni, sul quale viene fatto un ciclo e ad ogni iterazione viene disegnata un'istruzione.

                            <h4>Camera pad</h4>
                            Viene inoltre fornito anche un piccolo pad caratterizzato da 4 pulsanti che permettono il movimento nelle quattro classiche direzioni: avanti, indietro, destra, sinistra all'interno della scena.<br>
                            Il pad viene disegnato dalla funzione <b>makeKeyCanvas</b>.
                            Essendo il pad un elemento del contesto 2D, i bottoni che lo caratterizzano sono stati disegnati su di esso utilizzando la funzione <b>drawButton</b>.<br>
                            In prima istanza viene creato un oggetto Path2D. A questo oggetto vengono assegnati determinati attributi. <br> 
                            All'interno di un array vengono salvati tutti i bottoni che si vogliono creare.<br>
                            Viene poi iterato questo array utilizzando la funzione <b>drawAll</b> che chiama per ogni oggetto dell'array la funzione <b>drawButton</b>.<br>
                            Questa funzione permette di creare dei quadrati di dimensione fissa, applicando un determinato colore e un determinato testo.<br>

                            <div class="row">
                                <div class="col-md-5">
                                    <img src="img/pad.gif" alt="camera pad" width="600" height="300">
                                </div>
                            </div>
                            
                            <h4>Pannello di controllo</h4>
                            In alto a destra, con la forma di un pannello di controllo, viene concessa inoltre la possibilità all'utente di modificare alcuni parametri per la gestione della scena. <br>
                            La creazione del pannello di controllo è stata effettuata utilizzando la libreria dat.gui fornita durante il corso. <br>
                            Attraverso la funzione <b>define_gui</b> avviene la creazione di questa graphic user inteface creando l'oggetto gui. <br>
                            Viene poi aggiunto all'oggetto una proprietà ed una serie di parametri che permettono poi la gestione della scena. <br>
                            Viene proposta la variazione di:
                            <ul>
                                <li>
                                    direzione della luce attraverso i parametri lx, ly, lz;
                                    <!-- <div class="row">
                                        <div class="col-md-3">
                                            <img src="img/luci.gif" alt="PHI" width="400" height="200">
                                        </div>
                                    </div> -->
                                </li>
                                <li>
                                    movimento dell'oggetto lungo gli assi x e y, permettendo la rotazione dell'oggetto, utilizzando i parametri theta e phi
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img src="img/theta.gif" alt="PHI" width="200" height="200">
                                            <img src="img/phi.gif" alt="THETA" width="200" height="200">
                                        </div>
                                    </div>

                                </li>
                                <li>
                                    <b>fovy</b> specifica l'angolo del campo visivo.
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img src="img/fovy.gif" alt="FOVY" width="200" height="200">
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <b>trasparenza</b> attraverso l'utilizzo di un checkbox. Di default il checkbox è attivato e dunque il vetro e le lampade risultano trasparenti. Al click è possibile disattivare tale proprietà.
                                </li>
                                <li>
                                    <b>enable</b> è un campo che permette di rendere attive e disponibili le funzioni del pannello di controllo. Se disattivato tutte le modifiche non avranno effetto sulla scena.
                                </li>
                            </ul>
                        </p>
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h3>prepareCanvas.js</h3>
                        <h4>l'oggetto Canvas</h4>
                        <p>
                            Per la creazione del contesto 3D ho scelto di creare il <b>Canvas</b>, che rappresenta la finestra di rendering, come una classe. <br>
                            La costruzione del modello canvas come oggetto mi ha permesso di utilizzare tutti i vantaggi di una programmazione ad oggetti.<br>
                            La variabile canvas viene dichiarata nel file main.js, in scope globale, in modo da permettere poi ad ogni modello mesh di accedere a questa variabile. <br>
                            Il canvas viene inizializzato nella chiamata alla funzione <b>main</b>.<br>
                            Alla creazione dell'oggetto canvas, il costruttore crea in prima istanza il contesto webgl, e successivamente imposta il viewport, che specifica la trasformazione di x e y dalle coordinate del dispositivo alle coordinate della finestra. <br>
                            Viene inizializzata una lista di mesh che verrà successivamente riempita ogni qual volta viene istanziato un oggetto Model.<br>
        
                            Come ultimo passo viene creato il program chiamando la funzione della libreria di webGlUtils <b>webglUtils.createProgramInfo</b> che prende come parametri il contesto 3D e gli shader. <br>
                            <br>
                            Per gestire correttamente la trasformazione della scena in base al restringimento della finestra, viene chiamata nel main la funzione <b>resizeCanvasToDisplaySize</b><br>
                            Vengono memorizzate le coordinate width ed height della finestra e si confrontano con quelle del canvas. Se sono diverse, viene chiamata la funzione <b>resizeCanvasToDisplaySize</b> che imposta la dimensione del canvas alla dimensione della finestra. <br>
                        </p>
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h3>Model.js</h3>
                        <h4>l'oggetto Model</h4>
                        <p>
                            Model rappresenta la classe degli oggetti mesh. <br>
                            Attraverso l'istanziazione di un oggetto della classe Model avviene la creazione di un oggetto mesh. <br>
                            Nella funzione main del file <b>main.js</b>, dopo la creazione dei contesti 3D e 2D, viene istanziato un oggetto Model per ogni oggetto mesh che si vuole creare. <br>
                            All'istanziazione dell'oggetto, vengono passati al costruttore della classe alcuni parametri utili al corretto caricamento dell'oggetto:
                            <ul>
                                <li>
                                    il nome dell'oggetto che si sta caricando;
                                </li>
                                <li>
                                    il path nel quale è presente il file .obj;
                                </li>
                                <li>
                                    il path nel quale è presente il file .mtl;
                                </li>
                                <li>
                                    un array mesh che contiene tutte le informazioni sulla geometria della mesh
                                </li>
                                <li>
                                    un booleano per indicare se la mesh può essere ruotata.
                                </li>
                                <li>
                                    il contesto 3D WebGl
                                </li>
                            </ul>
                            Il costruttore della classe inizializza i parametri dell'oggetto con i parametri formali inviati dal main, e successivamente chiama la funzione della libreria <b>load_mesh.js</b> per il caricamento della mesh.<br>
                            La funzione <b>LoadMesh</b> prende in input il contesto 3D WebGl e l'array mesh, che al momento della chiamata contiene il path relativo ai file .obj e .mtl. <br>
                            Una volta terminato il caricamento della mesh, il nuovo oggetto viene inserito in una lista presente nell'oggetto canvas che tiene memoria di tutte le mesh create, <br> 
                            e successivamente viene chiamata su quest'ultimo la funzione <b>createBuffer</b><br> 
                            
                            <h4>createBuffer</h4>
                            Questa prende in input il contesto 3D WebGl e il program. Si creano i buffer per gli attributes position, normal e texcoord <br>

                            L'oggetto è stato preparato dunque alla fase di renderizzazione, che avviene solo successivamente alla chiamata della funzione <b>drawModels</b><br>
                            
                            <h4>drawModels</h4>
                            Nel main, una volta settata la telecamera, avviene come ultima azione la chiamata a drawModels, che ha il compito di:
                            <ul>
                                <li>
                                    Attivare gli eventi da tastiera
                                </li>
                                <li>
                                    Modificare dinamicamente la dimensione del canvas in base alla grandezza della finestra
                                </li>
                                <li>
                                    Iterare sulla lista delle mesh e chiamare la funzione draw sull'oggetto per la fase di rendering finale.<br>
                                    In questa fase viene fatto un controllo sul parametro enable del pannello di interazione illustrato nei paragrafi precedenti. <br>
                                    Se il parametro è true, allora la funzione draw viene chiamata con dei parametri aggiuntivi che renderanno quindi possibile la gestione dinamica di alcuni di essi.<br>
                                    Se il parametro è false, la funzione viene chiamata con i soli parametri formali <b>canvas.gl</b> e <b>canvas.programInfo</b>, mentre gli altri assumeranno valori forniti di default. <br>

                                </li>
                            </ul>

                            <h4>draw</h4>
                            La funzione <b>draw</b> si occupa di disegnare la mesh. <br>
                            Prende come parametri di ingresso:
                            <ul>
                                <li>
                                    il contesto 3D WebGl
                                </li>
                                <li>
                                    il program
                                </li>
                                <li>
                                    un parametro phi che indica la rotazione della mesh in base all'asse x
                                </li>
                                <li>
                                    un parametro theta che indica la rotazione della mesh in base all'asse y
                                </li>
                                <li>
                                    fieldOfViewRadians è il valore di fov della telecamera in radianti
                                </li>
                                <li>
                                    zmin è il valore di distanza minima dal disegno
                                </li>
                                <li>
                                    far è il punto più lontano del frustum
                                </li>
                                <li>
                                    light_x, light_y e light_z per la direzione della luce
                                </li>
                                <li>
                                    trasparenza è un booleano per l'attivazione/disattivazione della trasparenza
                                </li>
                            </ul>
                            La funzione si occupa di recuperare tutte le informazioni presenti negli shader per collegarle al program passato da input.<br>
                            Viene gestita la trasparenza e il collegamento tra i vari buffer. <br>
                            Infine viene chiamata la drawArrays per disegnare la mesh. <br>
                        </p>
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h3>camera.js</h3>
                        <h4>l'oggetto Camera</h4>
                        <p>
                            Come per il canvas e per il modello, anche la camera è stata gestita con l'utilizzo di una classe.<br>
                            La variabile camera viene dichiarata in uno scope globale così da permettere ad ogni oggetto di accedere a questa variabile. <br>
                            L'oggetto della classe camera viene istanziato successivamente alla chiamata della funzione <b>main</b>, al quale vengono passati come parametri la posizione, il target ed up.<br>
                            La posizione rappresenta dove vogliamo che sia posizionata la telecamera, il target è la posizione dell'oggetto che vogliamo guardare.<br> 
                            Il costruttore della classe si occupa di inizializzare i parametri dell'oggetto position, forward, right ed up. <br>
                            La position è la posizione della camera, mentre forward, right ed up sono gli assi che definiscono la direzione della camera. <br>
                            Position viene inizializzato con il parametro <b>position</b> passato all'istanziazione dell'oggetto. <br>
                            Forward viene calcolata utilizzato la libreria m4 e applicando una normalizzazione alla sottrazione dei vettori <b>target</b> e <b>position</b>. <br>
                            Right, analogamente, viene calcolata con la libreria m4 e applicando una normalizzazione al cross product tra vettori <b>forward</b> e <b>up</b>.<br>
                            Up, infine, viene calcolata con la libreria m4 e applicando una normalizzazione al cross product tra vettori <b>right</b> e <b>forward</b>.<br><br>
                            All'interno della classe sono poi disponibili tutte le funzioni che permettono di modificare la posizione della camera e il suo orientamento <br>
                            Le funzioni sono:
                            <ul>
                                <li class="mb-2">
                                    <b>tilt</b>: Permette di ruotare la telecamera verso l'alto o verso il basso.<br>
                                    Questo tipo di movimento è reso possibile attraverso la rotazione sull'asse right.
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img src="img/tiltA.gif" alt="tiltA" width="200" height="200">
                                            <img src="img/tiltB.gif" alt="tiltB" width="200" height="200">
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-2">
                                    <b>pan</b>: Permette di ruotare la telecamera verso destra o verso sinistra.<br>
                                    Questo tipo di movimento è reso possibile attraverso la rotazione sull'asse up.
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img src="img/panD.gif" alt="pan" width="200" height="200">
                                            <img src="img/panS.gif" alt="pan" width="200" height="200">
                                        
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-2">
                                    <b>cant</b>: Inclina una telecamera lateralmente mantenendone la posizione e direzione di visualizzazione.<br>
                                    Questo tipo di movimento è reso possibile attraverso la rotazione sull'asse forward.
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img src="img/cantS.gif" alt="cant" width="200" height="200">
                                            <img src="img/cantD.gif" alt="cant" width="200" height="200">
                                        
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-2">
                                    <b>truck</b>: Permette di spostare la telecamera lateralmente senza modificare la direzione della visuale<br>
                                    Questo tipo di movimento è reso possibile sommando la posizione attuale della camera al prodotto della posizione attuale con la distanza fornita, sull'asse right
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img src="img/truckD.gif" alt="truck" width="200" height="200">
                                            <img src="img/truckS.gif" alt="truck" width="200" height="200">
                                        
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-2">
                                    <b>pedestal</b>: Alza o abbassa la telecamera sul suo asse verticale.<br>
                                    Questo tipo di movimento è reso possibile sommando la posizione attuale della camera al prodotto della posizione attuale con la distanza fornita, sull'asse up
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img src="img/pedestalA.gif" alt="pedestal" width="200" height="200">
                                            <img src="img/pedestalB.gif" alt="pedestal" width="200" height="200">
                                        
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-2">
                                    <b>dolly</b>: permette di allontanarsi o avvicinarsi rispetto al punto in cui si sta guardando. <br>
                                    Questo tipo di movimento è reso possibile sommando la posizione attuale della camera al prodotto della posizione attuale con la distanza fornita, sull'asse forward
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img src="img/dollyA.gif" alt="dolly" width="200" height="200">
                                            <img src="img/dollyD.gif" alt="dolly" width="200" height="200">
                                        
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-2">
                                    <b>align</b>: permette il riallineamento della telecamera
                                </li>
                                <li class="mb-2">
                                    <b>getViewMatrix</b>: restituisce la viewMatrix
                                </li>
                                <li class="mb-2">
                                    <b>getOriginalPosition</b>: restituisce la posizione predefinita inizialmente della telemcamera<br>
                                    Si effettua il ricalcolo dell'asse forward e right andando dapprima a normalizzare la sottrazione del vettore nullo con la posizione iniziale della camera,<br>
                                    successivamente si calcola l'asse right come cross product, normalizzato, tra l'asse forward e l'asse up.
                                </li>
                                <li class="mb-2">
                                    <b>getPosition</b>: restituisce la posizione della telecamera
                                </li>
                            </ul>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <h3>Particolarità</h3>
                <ul>
                    <li>
                        <h4>Rendering avanzato</h4>
                        Come funzionalità di rendering avanzato ho scelto di implementare la possibilità di attivare e disattivare l'effetto della trasparenza su due oggetti del modello.<br>
                        L'effetto della trasparenza è dato dalla quarta componente colore di RGBA chiamata alpha. Essa misura l'opacità del pixel e può assumere valori compresi tra 0 e 1.<br> 
                        <ul>
                            <li>
                                0: il pixel è completamente trasparente
                            </li>
                            <li>
                                1: il pixel è completamente opaco
                            </li>
                        </ul>
                        Il buffer alpha è allocato di default. Per abilitare questo buffer ho chiamato la funzione enable(gl.BLEND) sul contesto 3D. <br>
                        In seguito ho aggiunto al fragment shader l'attributo <b>uniform float uAlpha</b> che mi permette di passare il valore alpha del colore del pixel.<br>
                        Il valore uAlpha viene successivamente moltiplicato all'effectiveOpacity dell'oggetto.<br> 
                        Alla chiamata della funzione draw, viene passato ad alpha il valore di 0.5, se è abilitata la trasparenza sulla scena, 1 altrimenti.<br>
                        Per abilitare la scena alla trasparenza, ho aggiunto all'interno dell'oggetto controls anche il parametro trasparenza che di default è settato a true.<br>
                        Questo mi permette di gestire l'effetto attraverso il pannello di interazione dell'utente. Inoltre, essendo solo due gli oggetti che voglio rendere trasparenti, ho scelto di gestire questo effetto attraverso un semplice if-else. <br>
                        Di default ogni oggetto ha dunque l'effectiveOpacity con alpha settato ad 1, mentre è reso dinamico solo per i due oggetti che voglio rendere trasparenti, portando il valore a 0.5<br>
                        L'applicazione della trasparenza mi ha permesso di dare quindi all'oggetto vetro della scena un effetto di trasparenza, rendendo visibile l'oggetto paesaggio che si trova dietro di esso.<br>
                        Per completare corrattamente questo processo si è reso necessario disegnare prima l'oggetto paesaggio, che si deve intravedere con la trasparenza, e successivamente il vetro reso trasparente.
                        <div class="row">
                            <div class="col-md-3">
                                <img src="img/trasparenza.gif" alt="PHI" width="400" height="200">
                            </div>
                        </div>
                    </li>
                    <li>
                        <h4>Effetto luce finta</h4>
                        Ho sfruttato l'effetto della trasparenza applicandolo anche alle luci dei lampadari fissi al muro, e colorati di giallo.<br>
                        Dato che la trasparenza fornisce all'oggetto una colorazione più sfumata, applicato ad un colore giallo, rende all'oggetto la sensazione di luminosità.<br>
                        A tal scopo, per non rendere davvero trasparente la luce, ma solo dare l'effetto di luce, ho disegnato prima l'oggetto lampadina e poi l'oggetto muro in modo da non avere la vista attraverso la trasparenza, <br>
                        ma comunque l'effetto dell'opacità diminuita.
                    </li>
                    <li>
                        <h4>Modifiche al file load_mesh.js</h4>
                        
                        Ho effettuato una modifica alla libreria fornita durante il corso load_mesh.js per il caricamento degli oggetti nella scena.<br>
                        In particolare, la modifica riguarda l'aggiunta di un ciclo for per il corretto caricamento di più texture associate ad un singolo oggetto,<br>
                        andando a parametrizzare l'attributo mesh.materials[j].parameter, che contiene il nome del file della texture, con il valore j.<br>
                        Originariamente il codice prevedeva che l'attributo materials fosse settato ad 1 staticamente, ora invece si clica su tutti i materiali presenti nell'mtl file.<br>
                        Infine è stata aggiunta la Promise, sintassi di javascript che permette il completamento di un operazione asincrona.<br>
                    </li>
                </ul>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <h4>References</h4>
                <ul>
                    <li>
                        https://webglfundamentals.org/
                    </li>
                    <li>
                        http://learnwebgl.brown37.net/index.html
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>
